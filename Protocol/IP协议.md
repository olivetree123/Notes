# IP 协议

以太网协议依靠 MAC 地址发送数据。讲道理，是可以通信的。但是由于采用广播的形式发送数据包，当网络中的设备越来越多，就会导致网络阻塞。为了避免网络阻塞，急需对网络进行划分，划分之后，大的网络由一个个子网组成，每个子网内部仍然采用以太网协议进行通信，但是子网与子网之间要如何通信呢？
为了使得子网与子网之间能够通信，人们发明了IP 协议，同时也导致了网络层的诞生。
在 IP 协议的网络当中，每个设备都有一个网络(IP)地址——理想情况，同时会伴随着一个子网掩码。不同的子网，通过路由器相互连接。下面我们来说一说设备之间的通信过程。
设备 A 想要发送数据到设备 B：
* 当 A 和 B 不在同一个子网时
* 当 A 和 B 在同一个子网时